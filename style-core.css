/* --- Scrollbar Gizleme --- */
html, body, .modal-body, .modal-container {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
html::-webkit-scrollbar,
body::-webkit-scrollbar,
.modal-body::-webkit-scrollbar,
.modal-container::-webkit-scrollbar {
  display: none;
}
 
/* ========== TÃœM :root DEÄžÄ°ÅžKENLERÄ° (tek kaynak) ========== */
:root {
  --theme-color: #e1061b;
  --theme-color-rgb: 225, 6, 27;
  --bg: #080d16;
  --bg-2: #151515;
  --card-bg: #1a1a1a;
  --txt: #f0f0f0;
  --muted: rgba(255, 255, 255, 0.5);
  --br: #333;
  --border-shiny: rgba(255, 255, 255, 0.25);

  --modal-footer-gap: 12px;
  --app-footer-height: 48px;
  --modal-footer-reserve: calc(var(--app-footer-height) + var(--modal-footer-gap));
  --modal-gap-above-footer: 10px; /* MasaÃ¼stÃ¼nde 6px override edilir */

  --modal-bg: var(--bg);
  --modal-max-width: 500px;
  --modal-radius: 10px;
  --modal-margin-bottom-desktop: calc(var(--app-footer-height) + var(--modal-gap-above-footer));
  --modal-margin-bottom-mobile: calc(var(--modal-gap-above-footer) + var(--app-footer-height));

  --border-red-tech: rgba(var(--theme-color-rgb), 0.4);
  --red-glow-subtle: rgba(var(--theme-color-rgb), 0.12);

  --green: #4ade80;
  --red: #ef4444;
  --form-label-color: #ffffff;
  /* Girilen veri / aÃ§Ä±klama metin rengi (beyaz-gri hiyerarÅŸisi) */
  --data-value-color: #a0aec0;

  --bg-content: #0d131f;
  --bg-input: #0f1418;
  --bg-input-focus: #0f1622;
  --txt-white: #ffffff;
  --txt-light: #f0f0f0;
  --txt-muted: #e0e0e0;
  --txt-gray: #ccc;
  --txt-gray-dark: #b5b9c0;
  --txt-gray-darker: #888;
  --txt-gray-darkest: #666;
  --txt-placeholder: #999;
  --border-light: rgba(255, 255, 255, 0.5);
  --border-medium: rgba(255, 255, 255, 0.35);
  --border-subtle: rgba(255, 255, 255, 0.3);
  --border-faint: rgba(255, 255, 255, 0.2);
  --border-mid: rgba(255, 255, 255, 0.4);
  --border-ultra: rgba(255, 255, 255, 0.1);
  --border-faint-02: rgba(255, 255, 255, 0.02);
  --border-faint-08: rgba(255, 255, 255, 0.08);
  --border-faint-15: rgba(255, 255, 255, 0.15);
  --border-faint-22: rgba(255, 255, 255, 0.22);
  --border-bright: rgba(255, 255, 255, 0.6);
  --shadow-overlay: rgba(0, 0, 0, 0.85);
  --shadow-modal: rgba(0, 0, 0, 0.9);
  --shadow-dark: rgba(0, 0, 0, 0.4);
  --green-success: #28a745;
  --green-success-rgb: 40, 167, 69;
  --orange-warn: #ff8c00;
  --orange-warn-rgb: 255, 140, 0;
  --amber-edit: #dda410;
  --link-blue: #5b9bd5;
  --link-blue-hover: #7ab3e8;
  --br-medium: #555;
  --hero-gradient-start: #060d16;
  --hero-gradient-end: #08090c;
  --hero-logo-width: 69px;
  --hero-spacer-width: 30px;
}

/* MasaÃ¼stÃ¼ (641px+): modalâ€“footer arasÄ± 6px */
@media (min-width: 641px) {
  :root {
    --modal-gap-above-footer: 6px;
  }
}

/* Mobil (640px ve altÄ±): kontrast artÄ±rma */
@media (max-width: 640px) {
  :root {
    --txt: #ffffff;
    --muted: rgba(255, 255, 255, 0.7);
    --br: #444;
    --border-shiny: rgba(255, 255, 255, 0.35);
    --border-red-tech: rgba(var(--theme-color-rgb), 0.45);
    --red-glow-subtle: rgba(var(--theme-color-rgb), 0.18);
    --bg-2: #1a1a1a;
    --card-bg: #1f1f1f;
    --hero-logo-width: 43px;
    --hero-spacer-width: 1px;
  }
}

/* --- EVRENSEL GERÄ° DÃ–N NAVÄ°GASYONU (tÃ¼m uygulama) --- */
/* MasaÃ¼stÃ¼ ve mobil ortak: geri dÃ¶n ok + etiket hizalamasÄ± (3px gap, ok 5px aÅŸaÄŸÄ±, etiket 1px kÃ¼Ã§Ã¼k) */

.universal-back-bar {
  display: flex !important;
  align-items: flex-start !important; /* Buton dikey hizasÄ± bozulmasÄ±n */
  justify-content: flex-start !important;
  padding: 8px 0 0 0 !important;
  width: 100% !important;
  margin: 0 !important;
  box-sizing: border-box !important;
  gap: 3px !important; /* Bar iÃ§i boÅŸluk tutarlÄ± */
}
.universal-back-bar svg,
.universal-back-bar i,
.universal-back-bar img {
  margin: 0 !important;
  transform: translateY(0) !important;
  display: block !important;
  padding: 0 !important;
}

/* Geri dÃ¶n butonu/linki: ok ile etiket arasÄ± KESÄ°N 3px, tÃ¼m ekranlar */
.universal-back-btn,
.universal-back-bar a.universal-back-btn {
  display: inline-flex !important;
  align-items: center !important; /* Ok ve etiket aynÄ± satÄ±rda dikey ortalÄ± */
  gap: 3px !important;
  text-decoration: none !important;
  cursor: pointer;
  background: none;
  border: none;
  padding: 8px 0 8px 0 !important; /* Yatay padding yok â€“ gap 3px kalÄ±r */
  color: var(--txt-light);
}
.universal-back-btn:hover { color: var(--txt-white); }

/* Etiket: 1 punto kÃ¼Ã§Ã¼k (14px â†’ 13px), tÃ¼m ekranlar */
.universal-back-label {
  color: #adb5bd !important;
  font-size: 13px !important; /* 14px â†’ 13px (1 punto kÃ¼Ã§Ã¼ltme) */
  font-weight: 500 !important;
  line-height: 1 !important;
  margin: 0 !important;
}

/* Sol oku aÅŸaÄŸÄ± kaydÄ±rma (global, masaÃ¼stÃ¼ + mobil) â€“ metin baseline ile hizalÄ± */
.universal-back-btn i,
.universal-back-btn svg,
.universal-back-btn .back-icon-svg,
.universal-back-btn img,
.universal-back-bar .universal-back-btn i,
.universal-back-bar .universal-back-btn svg,
.universal-back-bar .universal-back-btn .back-icon-svg,
.universal-back-bar .universal-back-btn img {
  position: relative !important;
  top: 0 !important; /* Ok metin baselineâ€™a daha iyi hizalanÄ±r */
  margin: 0 !important;
  padding: 0 !important; /* 3px gap bozulmasÄ±n */
}
.universal-back-btn .universal-back-label,
.universal-back-bar .universal-back-btn .universal-back-label {
  margin-left: 0 !important;
  padding-left: 0 !important;
}

.back-icon-svg {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

/* --- EVRENSEL Ä°ÅžLEM BUTONLARI (Orijinal kayit.css matematiÄŸi ve zarafeti) --- */
/* Buton Grubu (KapsayÄ±cÄ±) - Aradaki BoÅŸluÄŸu AÃ§; minmax(0,1fr) taÅŸmayÄ± Ã¶nler */
.universal-btn-group {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important; /* 2 eÅŸit kolon */
  gap: 16px !important; /* Aradaki boÅŸluk */
  width: 100% !important;
  max-width: 100% !important; /* KapsayÄ±cÄ±yÄ± tam yay */
  padding: 16px 0 !important; /* Yatay 0: inputlarla aynÄ± hizada (modal-body zaten 20px veriyor) */
  box-sizing: border-box !important;
  justify-items: stretch !important; /* ButonlarÄ± hÃ¼creye tam yay */
  background: transparent !important;
  border: none !important;
}

/* ButonlarÄ±n Orijinal Zarif Formu (Ä°nce Ã‡erÃ§eve ve Sabit YÃ¼kseklik) */
.universal-btn-save,
.universal-btn-cancel {
  background: transparent !important;
  height: 32px !important; /* Form estetiÄŸi iÃ§in ideal yÃ¼kseklik */
  border-radius: 8px !important;
  border-width: 1px !important; /* 1px ince Ã§erÃ§eve */
  font-size: 11.5px !important;
  font-weight: 400 !important;
  width: 100% !important; /* HÃ¼crenin tamamÄ±nÄ± kapla */
  max-width: none !important; /* Ã–nceki kÄ±sÄ±tlamalarÄ± kaldÄ±r */
  min-width: 0 !important;
  justify-self: stretch !important; /* Grid hÃ¼cresine yaslan */
  margin: 0 !important; /* Kenar boÅŸluklarÄ±nÄ± sÄ±fÄ±rla */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.2s ease-in-out !important;
  padding: 0 !important;
  cursor: pointer !important;
  text-transform: none !important;
  line-height: 1 !important;
  box-shadow: none !important;
  transition: all 0.2s ease-in-out !important;
}

/* Kaydet (YeÅŸil) - Dinamik Hover Efekti (Ãœzerine Gelince Kaslanma) */
.universal-btn-save {
  color: var(--green-success, #28a745) !important;
  border: 1px solid rgba(40, 167, 69, 0.45) !important;
}
.universal-btn-save:hover {
  background: rgba(40, 167, 69, 0.12) !important;
  font-weight: 600 !important; /* Ãœzerine gelince metin kalÄ±nlaÅŸÄ±r */
  border-color: var(--green-success, #28a745) !important;
  -webkit-text-stroke: 0.2px currentColor; /* Net kalÄ±nlÄ±k efekti */
}

/* VazgeÃ§ (KÄ±rmÄ±zÄ±) - Dinamik Hover Efekti */
.universal-btn-cancel {
  color: var(--theme-color, #e1061b) !important;
  border: 1px solid rgba(225, 6, 27, 0.45) !important;
}
.universal-btn-cancel:hover {
  background: rgba(225, 6, 27, 0.12) !important;
  font-weight: 600 !important;
  border-color: var(--theme-color, #e1061b) !important;
  -webkit-text-stroke: 0.2px currentColor;
}

/* Ayarlar/Åžube modallarÄ±: Olay Ekle standardÄ± â€“ tam geniÅŸlik, sol hizalama */
#sube-modal .form-section,
#branch-form-modal .form-section,
#user-form-modal .form-section,
.settings-modal .form-section,
.ayarlar-modal-overlay .modal-body .form-section,
.modal-body:has(#sube-adi) .form-section,
.modal-body:has(#branch-name) .form-section {
  width: 100% !important;
  max-width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
}

#sube-modal .form-label,
#branch-form-modal .form-label,
#user-form-modal .form-label,
.settings-modal .form-label,
.ayarlar-modal-overlay .modal-body .form-label,
.modal-body:has(#sube-adi) .form-label,
.modal-body:has(#branch-name) .form-label {
  text-align: left !important;
  width: 100% !important;
  margin-bottom: 4px !important;
}

#sube-modal .form-input,
#branch-form-modal .form-input,
#user-form-modal .form-input,
.settings-modal .form-input,
.ayarlar-modal-overlay .modal-body .form-input,
.modal-body:has(#sube-adi) .form-input,
.modal-body:has(#branch-name) .form-input,
#branch-form-modal .modal-body .form-input,
#branch-form-modal .modal-body select.form-input,
#user-form-modal .modal-body .form-input,
#user-form-modal .modal-body select.form-input {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Buton grubu da tam geniÅŸlik (400px kÄ±sÄ±tlamasÄ± kaldÄ±rÄ±ldÄ±) */
#sube-modal .universal-btn-group,
#branch-form-modal .universal-btn-group,
#user-form-modal .universal-btn-group,
.settings-modal .universal-btn-group,
.ayarlar-modal-overlay .modal-body .universal-btn-group,
.modal-body:has(#sube-adi) .universal-btn-group,
.modal-body:has(#branch-name) .universal-btn-group {
  max-width: 100% !important;
  width: 100% !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Sil butonunu grid'de tam geniÅŸlikte, simetrik (3. buton alt satÄ±rda tam boy) */
#sube-modal .btn-delete,
#sube-modal .settings-btn-delete,
#branch-form-modal .settings-btn-delete,
#user-form-modal .settings-btn-delete,
.settings-modal .btn-delete,
.universal-btn-group .universal-btn-delete,
.universal-btn-group .settings-btn-delete,
.universal-btn-group button.settings-btn-delete,
.universal-btn-group button.btn-delete,
.universal-btn-group button:nth-child(3) {
  grid-column: 1 / -1 !important;
  width: 100% !important;
  max-width: none !important;
  margin-top: 4px !important;
  color: var(--theme-color, #e1061b) !important;
  border: 1px solid rgba(225, 6, 27, 0.5) !important;
}

/* TÃ¼m input/select/textarea iÃ§erik metni: beyaz-gri hiyerarÅŸisi */
.form-input,
select.form-input,
select,
textarea.form-input {
  color: var(--data-value-color, #a0aec0) !important;
}
input[type="date"].form-input.has-value,
input[type="date"].form-input:focus {
  color: var(--data-value-color, #a0aec0) !important;
}

/* TARÄ°H KUTUSU: metin yatay+dikey ortada, ikon metnin hemen yanÄ±nda 3px boÅŸlukla */
input[type="date"].form-input {
  position: relative !important;
  display: flex !important;
  align-items: center !important;
  height: 36px !important;
  box-sizing: border-box !important;
  padding: 0 22px 0 12px !important; /* SaÄŸ: 3px kenar + ~16px ikon + 3px boÅŸluk = metne yakÄ±n */
}

/* Ä°Ã§ metin yatayda ve dikeyde ortada; taÅŸma yok (hem boÅŸ hem dolu hem focus) */
input[type="date"].form-input::-webkit-datetime-edit,
input[type="date"].form-input::-webkit-datetime-edit-fields-wrapper,
input[type="date"].form-input:focus::-webkit-datetime-edit,
input[type="date"].form-input:focus::-webkit-datetime-edit-fields-wrapper,
input[type="date"].form-input.has-value::-webkit-datetime-edit,
input[type="date"].form-input.has-value::-webkit-datetime-edit-fields-wrapper {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  height: 100% !important;
  width: 100% !important;
  max-width: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
  box-sizing: border-box !important;
  text-align: center !important;
  line-height: 1 !important;
}
input[type="date"].form-input::-webkit-datetime-edit,
input[type="date"].form-input:focus::-webkit-datetime-edit,
input[type="date"].form-input.has-value::-webkit-datetime-edit {
  line-height: 1 !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  height: 100% !important;
  display: flex !important;
  align-items: center !important;
}

/* Takvim ikonu: saÄŸdan 3px, dikey ortalÄ±; metinle arasÄ±nda 3px boÅŸluk (padding-right ile) */
input[type="date"].form-input::-webkit-calendar-picker-indicator {
  position: absolute !important;
  right: 3px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  margin: 0 !important;
  padding: 0 !important;
  cursor: pointer !important;
}

@media (min-width: 641px) {
  .modal-overlay input[type="date"].form-input,
  #vehicle-modal input[type="date"].form-input {
    padding-left: 8px !important;
  }
}

/* --- 1. SIFIRLAMA & ANA YAPI --- */
html, body {
  margin: 0;
  padding: 0;
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  max-width: 500px;
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  height: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  overflow: hidden;
  overflow-x: hidden; /* Yatay taÅŸma kesin kapalÄ± */
  font-family: 'Source Sans 3', sans-serif;
  background-color: var(--bg);
  color: var(--txt);
  -webkit-tap-highlight-color: transparent;
  overscroll-behavior: none;
  box-sizing: border-box;
}
html { overflow-x: hidden; }

/* ANA KAPSAYICI - Havada durma (kÄ±rmÄ±zÄ± Ã§erÃ§eve ile uyumlu), taÅŸma yok */
.app-container {
    isolation: isolate; /* pseudo katman gÃ¼venli */
    position: relative;
    max-width: 500px;
    width: 100%;
    height: 100%;
    min-height: 100vh;
    min-height: 100dvh;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    overflow-x: hidden; /* Ä°Ã§erik yan taÅŸmasÄ±n */
    box-sizing: border-box;
    /* KIRMIZI Ã‡ERÃ‡EVE - sadece Ã¼st */
    border-top: 1px solid var(--border-red-tech);
    box-shadow: 0 2px 14px rgba(var(--theme-color-rgb), 0.1), inset 0 0 80px rgba(10, 13, 28, 0.22);  /* Havada: kÄ±rmÄ±zÄ± gÃ¶lge + iÃ§ parlaklÄ±k (#0a0d1c tonu) */
    background: var(--bg);
    transition: border-color 0.3s ease;
}

/* KÄ±rmÄ±zÄ± IÅŸÄ±k Efekti (Overlay) */
.app-container::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    /* Ä°Ã§e vuran kÄ±rmÄ±zÄ± Ä±ÅŸÄ±k */
    box-shadow: inset 0 0 25px var(--red-glow-subtle);
    pointer-events: none; /* TÄ±klamayÄ± engelleme */
    z-index: 0; /* iÃ§erik altÄ± */
}

/* Ä°Ã‡ERÄ°K ALANI - Havada durma (yan kÄ±rmÄ±zÄ± Ã§erÃ§eve), taÅŸma yok */
.content-wrap {
    flex: 1;
    min-width: 0; /* Flex Ã§ocukta taÅŸmayÄ± Ã¶nler */
    overflow-y: auto;
    overflow-x: hidden;
    padding: 4px;
    padding-top: max(12px, env(safe-area-inset-top));
    padding-bottom: 16px;
    position: relative;
    z-index: 10;
    box-sizing: border-box;
    /* YAN Ã‡Ä°ZGÄ°LER CONTENT-WRAP'TE - footer'a gitmeyecek */
    border-left: 1.2px solid var(--border-red-tech);
    border-right: 1.2px solid var(--border-red-tech);
    box-shadow: 0 0 24px var(--red-glow-subtle);
    transition: border-color 0.3s ease;
}

/* MasaÃ¼stÃ¼: Ã§erÃ§eve kalÄ±nlÄ±ÄŸÄ± */
@media (min-width: 769px) {
    .app-container {
        border-top-width: 1.2px;
    }
    .content-wrap {
        border-left-width: 1.5px;
        border-right-width: 1.5px;
    }
    .hero {
        border-width: 1.2px;
    }
}

/* --- SCROLLBAR AYARLARI --- */
@media (max-width: 768px) {
    .content-wrap {
        scrollbar-width: none; 
        -ms-overflow-style: none;
    }
    .content-wrap::-webkit-scrollbar { display: none; }
}

@media (min-width: 769px) {
    .content-wrap::-webkit-scrollbar {
        width: 6px;
    }
    .content-wrap::-webkit-scrollbar-track {
        background: transparent;
    }
    .content-wrap::-webkit-scrollbar-thumb {
        background-color: var(--border-faint);
        border-radius: 3px;
    }
    .content-wrap::-webkit-scrollbar-thumb:hover {
        background-color: var(--theme-color);
    }
}

/* HERO ALANI - Havada durma + kÄ±rmÄ±zÄ± uyum, taÅŸma yok */
.hero {
  position: relative;
  min-width: 0;
  overflow: hidden; /* BaÅŸlÄ±k ellipsis hero iÃ§inde kalsÄ±n */
  background: linear-gradient(180deg, var(--hero-gradient-start), var(--hero-gradient-end));
  border: 1px solid var(--border-medium);
  border-radius: 18px;
  padding: 12px 16px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.5), 0 4px 22px rgba(var(--theme-color-rgb), 0.12);
  margin-bottom: 8px;
  min-height: 60px;
  display: flex;
  align-items: center;
}

.hero-logo {
  flex: 0 0 var(--hero-logo-width);
  width: var(--hero-logo-width);
  margin-left: -5px;  /* Sola kaydÄ±r */
  transform: translateY(-1px);  /* Logo 1px yukarÄ± (masaÃ¼stÃ¼) */
  opacity: 1 !important;
  filter: none !important;
  backdrop-filter: none !important;
}

/* DÃœZELTME: SVG ve IMG width ayarÄ± */
.hero-logo svg,
.hero-logo img {
  width: 100%; /* Container geniÅŸliÄŸini doldur */
  height: auto;
  display: block;
  opacity: 1 !important; /* Tam opak, zorla */
  filter: brightness(0.88) !important; /* Koyu temada kÄ±rmÄ±zÄ± biraz koyu, parlama azalsÄ±n */
  object-fit: contain; /* Logo oranlarÄ±nÄ± koru */
}

.hero h1 {
  /* Orta alan - esneyebilir, taÅŸma yok; dar ekranda ellipsis */
  flex: 1;
  min-width: 0;
  text-align: center;
  font-size: clamp(16px, 4.5vw, 24px);
  font-weight: 800;
  letter-spacing: clamp(1px, 0.5vw, 4px);
  text-transform: uppercase;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 0 4px;

  /* METALÄ°K GRADYAN - Parlak krom */
  background: linear-gradient(to bottom, #c2d4df 0%, #ffffff 40%, #9aadba 52%, #d6e0e8 100%) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  color: transparent !important;

  text-shadow: none;
  filter: none;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;

  margin: 0;
  line-height: 1.6;
  transform: translateY(-2px);
}

/* HERO SPACER - Logo yarÄ±sÄ± geniÅŸlikte denge alanÄ± */
.hero-spacer {
  flex: 0 0 var(--hero-spacer-width);
}

/* KÄ±rmÄ±zÄ± Ã§izgi - Havada durma (kÄ±rmÄ±zÄ± Ã§erÃ§eve ile eÅŸit) */
.animated-line {
  position: absolute;
  bottom: 22px;
  left: 50%;
  transform: translateX(-50%);
  width: 74%;
  height: 2.5px;
  background: linear-gradient(90deg, transparent, var(--theme-color), transparent);
  border-radius: 1.6px;
  opacity: 0.6;
  box-shadow: 0 2px 10px rgba(var(--theme-color-rgb), 0.3);  /* Havada: kÄ±rmÄ±zÄ± glow */
}

/* Ä°KON SATIRI â€“ saÄŸda kesilmesin */
.icons-row {
  display: flex;
  justify-content: flex-end;
  gap: 16px;
  padding: 0 12px 0 8px;
  margin-bottom: 8px;
  position: relative;
  min-width: 0;
  max-width: 100%;
  flex-shrink: 0;
}
.icons-row .icon-btn {
  flex-shrink: 0;
}

.icon-btn {
  background: none;
  border: none;
  color: var(--txt-placeholder);
  cursor: pointer;
  padding: 4px;
  transition: color 0.2s, filter 0.2s;
}
.icon-btn:hover {
  color: var(--txt-white);
  filter: none;
}

/* Bildirim simgesi renkleri */
.icon-btn.notification-red {
  color: var(--theme-color) !important;
}
.icon-btn.notification-orange {
  color: var(--orange-warn) !important;
}

/* Bildirim simgesi pulse animasyonu */
.icon-btn.notification-pulse {
  animation: notificationPulse 2s ease-in-out infinite;
}

@keyframes notificationPulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/* Bildirim Ã¶ÄŸeleri Ã§erÃ§eve renkleri */
.notification-item {
  background: var(--bg) !important;
}

.notification-item.date-warning-red-border {
  border-color: rgba(var(--theme-color-rgb), 0.6) !important;
  box-shadow: 0 0 8px rgba(var(--theme-color-rgb), 0.2);
}

.notification-item.date-warning-orange-border {
  border-color: rgba(var(--orange-warn-rgb), 0.6) !important;
  box-shadow: 0 0 8px rgba(var(--orange-warn-rgb), 0.2);
}

.notification-item:hover {
  border-color: var(--border-light) !important;
  box-shadow: 0 4px 12px var(--shadow-dark);
}

/* MENÃœ â€“ hover scale taÅŸma olmasÄ±n */
.menu-container {
  display: flex;
  flex-direction: column;
  gap: 5px;
  overflow: visible;
  max-width: 100%;
}

/* MenÃ¼ butonlarÄ± - Havada durma + kÄ±rmÄ±zÄ± uyum */
.menu-btn {
  max-width: 500px;
  width: 100%;
  margin: 0 auto;
  padding: 18px;
  background: linear-gradient(180deg, var(--hero-gradient-start), var(--hero-gradient-end)); /* Hero ile aynÄ± gradient */
  border: 1px solid var(--border-subtle);
  border-radius: 12px;
  cursor: pointer;
  text-align: center;
  transition: border-color 0.2s, background 0.2s, transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2), 0 4px 16px rgba(var(--theme-color-rgb), 0.1);  /* Havada + kÄ±rmÄ±zÄ± */
  margin-bottom: 5px;
  height: 54px; /* Sabit yÃ¼kseklik - taÅŸma engellendi */
  overflow: hidden; /* Metin bÃ¼yÃ¼rse taÅŸma gizlensin */
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  transform-origin: center;
}
.menu-btn:last-child { margin-bottom: 0; }

/* Hover efekti sadece masaÃ¼stÃ¼ (mouse ile) â€“ mobilde yok */
@media (hover: hover) {
  .menu-btn:hover {
    border-color: var(--border-light);
    background: linear-gradient(180deg, var(--hero-gradient-start), var(--hero-gradient-end)); /* Arka plan aynÄ± kalÄ±r */
    /* Clip-safe hover: yukarÄ± taÅŸÄ±ma yok (Ã¼stten kÄ±rpÄ±lmasÄ±n) */
    transform: none;
    box-shadow: 0 6px 14px rgba(0,0,0,0.25), 0 6px 20px rgba(var(--theme-color-rgb), 0.12);
  }
  .menu-btn:hover .ttl {
    color: var(--txt-white);
    transform: scale(1.02); /* Hafif bÃ¼yÃ¼me (buton iÃ§inde, kesilmez) */
  }
}

/* MenÃ¼ metinleri - taÅŸma yok, uzun metin sÄ±ÄŸsÄ±n veya ellipsis */
.menu-btn .ttl {
  font-size: clamp(12px, 2.8vw, 14px);
  font-weight: 700;
  color: var(--txt);
  letter-spacing: 0.06em;
  transition: color 0.2s, transform 0.2s;
  text-shadow: none;
  transform-origin: center;
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding: 0 6px;
}

/* DROPDOWN - Her buton ayrÄ± Ã§erÃ§eve */
.settings-dropdown {
  display: none;
  position: absolute;
  top: 32px; /* AzaltÄ±ldÄ±: 35px â†’ 32px (daha yakÄ±n) */
  right: 0;
  background: transparent;
  border: none;
  border-radius: 0;
  width: 55%;
  max-width: 275px;
  z-index: 100;
  padding: 0;
  box-shadow: none;
  overflow: visible; /* Submenu'nun dÄ±ÅŸarÄ± Ã§Ä±kabilmesi iÃ§in */
}
.settings-dropdown.open { display: block; }
.settings-dropdown button {
  max-width: 500px;
  width: 100%;
  margin: 0;
  padding: 12px;
  text-align: right;
  background: var(--bg);
  border: 1px solid var(--border-subtle);
  border-radius: 10px;
  color: var(--txt-muted);
  font-weight: 600;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease, font-size 0.2s ease, box-shadow 0.2s ease;
  margin-bottom: 2px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  height: 48px;
  overflow: hidden;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}
.settings-dropdown button:last-child {
  margin-bottom: 0;
}
.settings-dropdown button:hover {
  background: var(--bg-input);
  border-color: var(--border-mid);
  color: var(--txt-white);
  font-size: 14px;
  box-shadow: 0 6px 15px rgba(0,0,0,0.4);
}

/* SUB-MENU (Veri YÃ¶netimi iÃ§in sola aÃ§Ä±lan menÃ¼) */
.settings-submenu {
  display: none;
  position: absolute;
  right: 100%;
  top: 0;
  background: var(--bg);
  border: 1px solid var(--border-subtle);
  border-radius: 8px;
  width: 180px;
  z-index: 101;
  padding: 8px;
  box-shadow: 0 4px 12px var(--shadow-dark);
  flex-direction: column;
  gap: 4px; /* Butonlar arasÄ± boÅŸluk */
}

.settings-submenu.open {
  display: flex; /* Flex container olarak gÃ¶ster */
}

.settings-submenu button {
  width: 100%;
  padding: 12px;
  text-align: right;
  background: var(--bg);
  border: 1px solid var(--border-subtle);
  border-radius: 8px;
  color: var(--txt-muted);
  font-weight: 600;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease, font-size 0.2s ease, box-shadow 0.2s ease;
  margin: 0;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  height: 48px;
  overflow: hidden;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

.settings-submenu button:hover {
  background: var(--bg-input);
  border-color: var(--border-medium);
  color: var(--txt-white);
  font-size: 14px;
  box-shadow: 0 6px 15px rgba(0,0,0,0.4);
}

.has-submenu-wrapper {
  position: relative;
  padding-right: 8px; /* Submenu ile buton arasÄ±nda gÃ¶rsel boÅŸluk */
}

.has-submenu {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important; /* Ok solda olduÄŸu iÃ§in flex-start */
  padding: 12px !important; /* DiÄŸerleri ile aynÄ± yÃ¼kseklik */
  width: 100%;
}

/* Ã–nbellek Temizle Butonu - KÄ±rmÄ±zÄ± + Hover BÃ¼yÃ¼me */
.settings-dropdown .cache-clear-btn {
  color: var(--theme-color) !important; /* KÄ±rmÄ±zÄ± metin */
  border: 1px solid rgba(var(--theme-color-rgb), 0.5) !important; /* KÄ±rmÄ±zÄ± Ã§erÃ§eve */
}

.settings-dropdown .cache-clear-btn:hover {
  font-size: 17px !important; /* Fare ile Ã¼zerine gidince metin bÃ¼yÃ¼sÃ¼n */
  color: var(--theme-color) !important;
  border-color: rgba(var(--theme-color-rgb), 0.7) !important; /* Hover'da daha parlak kÄ±rmÄ±zÄ± */
}

/* MasaÃ¼stÃ¼nde container'Ä±n %45'i + metin ortalÄ± */
@media (min-width: 641px) {
  /* Ana baÅŸlÄ±k: 2px aÅŸaÄŸÄ± (base translateY(-2px) â†’ 0) */
  .hero h1 {
    transform: translateY(0);
  }
  .settings-dropdown {
    width: 45%; /* MasaÃ¼stÃ¼nde container'Ä±n %45'i */
    max-width: 225px;
  }
  .settings-dropdown button {
    text-align: center; /* MasaÃ¼stÃ¼nde ortalÄ± */
    justify-content: center; /* Flexbox iÃ§in ortalama */
  }
  .has-submenu {
    justify-content: center !important; /* MasaÃ¼stÃ¼nde ok ve metin ortada */
  }
  .settings-submenu button {
    text-align: center; /* MasaÃ¼stÃ¼nde ortalÄ± */
    justify-content: center; /* Flexbox iÃ§in ortalama */
  }
  
  /* Footer MEDISA - MasaÃ¼stÃ¼nde hafif soldur (0.7 -> 0.5) */
  #app-footer.dimmed.delayed .brand img {
    opacity: 0.5 !important;
  }
  
  /* MasaÃ¼stÃ¼: Modal butonlarÄ± full-width (input ile aynÄ± hizada) */
  .universal-btn-save,
  .universal-btn-cancel {
    min-width: 0 !important;
    max-width: none !important;
  }
}

.view-section { display: none; }
.card { background: var(--card-bg); padding: 16px; border-radius: 12px; border: 1px solid var(--br); }
.btn.sec { background: transparent; border: 1px solid var(--br-medium); color: var(--txt-gray); padding: 8px 16px; border-radius: 6px; cursor: pointer; margin-top: 10px; }

.btn-secondary {
    background: transparent;
    border: 1px solid var(--border-subtle);
    color: var(--txt-muted);
}

.btn-secondary:hover {
    border-color: var(--border-light);
    color: var(--txt-white);
}

/* --- MODALLAR: ORTAK OVERLAY + CONTAINER (tek yerden yÃ¶netim) --- */
.modal-overlay {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: var(--shadow-overlay);
  backdrop-filter: blur(5px);
  z-index: 9999;
  justify-content: center;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;
  overflow: hidden !important;
  overscroll-behavior: none !important;
  touch-action: none !important; /* Arka plan ve ana kutu ASLA kaydÄ±rÄ±lamaz (iOS zÄ±plama engeli) */
}
.modal-overlay.active,
.modal-overlay.open {
  display: flex !important;
}
.modal-overlay .modal-container,
.login-container,
.user-panel-container {
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important; /* DÄ±ÅŸ Ã§erÃ§evenin kaymasÄ±nÄ± kesin kilitler */
  touch-action: none !important; /* Kutu dÃ¼zeyinde esnemeyi yasaklar (iOS) */
  max-height: 90vh !important;
  box-sizing: border-box;
}
.modal-overlay .modal-container {
  position: relative;
  background: var(--modal-bg);
  width: 100%;
  max-width: var(--modal-max-width);
  margin: max(12px, env(safe-area-inset-top)) auto var(--modal-margin-bottom-desktop) auto;
  height: calc(100vh - max(12px, env(safe-area-inset-top)) - var(--modal-margin-bottom-desktop));
  height: calc(100dvh - max(12px, env(safe-area-inset-top)) - var(--modal-margin-bottom-desktop));
  border-radius: var(--modal-radius);
  border: 1px solid var(--border-subtle);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2), 0 4px 16px rgba(var(--theme-color-rgb), 0.1), 0 0 40px rgba(0, 0, 0, 0.9);
  overflow-x: hidden;
  pointer-events: auto;
  overscroll-behavior: none;
  overscroll-behavior-x: none;
}
/* Header, geri Ã§ubuÄŸu ve footer sabit kalÄ±r, kaydÄ±rmadan etkilenmez (Strict Flex-Scroll) */
.modal-overlay .modal-header,
.modal-overlay .universal-back-bar,
.universal-btn-group,
.form-buttons {
  flex-shrink: 0 !important;
  z-index: 10 !important;
}
.modal-overlay .modal-header {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-ultra);
  position: relative;
}
.modal-overlay .modal-header h2 {
  margin: 0;
  font-size: 16px;
  font-weight: 700;
  color: var(--txt-light);
  letter-spacing: 1px;
  text-align: center;
}

/* SÄ°STEMDEKÄ° TÃœM MODALLARIN BAÅžLIK YÃœKSEKLÄ°ÄžÄ°NÄ° 60PX'E KÄ°LÄ°TLEME */
.modal-overlay .modal-header {
  position: relative !important; /* Ä°Ã§indeki absolute h2 ve X butonu iÃ§in referans */
  height: 60px !important;
  min-height: 60px !important;
  max-height: 60px !important;
  padding: 0 20px !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  flex-shrink: 0 !important;
  box-sizing: border-box !important;
}

/* TÃœM MODAL BAÅžLIKLARI (H2) MUTLAK MERKEZE SABÄ°TLEME â€“ X butonu ile itiÅŸmesin */
.modal-overlay .modal-header h2 {
  position: absolute !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  margin: 0 !important;
  padding: 0 !important;
  text-align: center !important;
  width: 100% !important;
  pointer-events: none !important;
  white-space: nowrap !important;
  z-index: 5 !important;
  line-height: 1 !important;
}

/* Kapat (X) butonu saÄŸ kÃ¶ÅŸede, baÅŸlÄ±ÄŸÄ±n Ã¼stÃ¼nde tÄ±klanabilir */
.modal-overlay .modal-close {
  position: absolute !important;
  right: 15px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  z-index: 10 !important;
  margin: 0 !important;
  padding: 0 !important;
  background: transparent;
  border: none;
  color: var(--txt-gray-darker);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s;
}
.modal-overlay .modal-close:hover {
  color: var(--theme-color);
}
/* Sadece gÃ¶vde (body) kaydÄ±rÄ±labilir â€“ Ã§erÃ§eve sabit (iOS zÄ±plama engeli) */
.modal-overlay .modal-body,
.login-body,
.user-panel-body {
  flex: 1 1 auto !important;
  min-height: 0 !important; /* Flex iÃ§inde kÃ¼Ã§Ã¼lebilsin, taÅŸan iÃ§erik scroll olsun */
  overflow-y: auto !important;
  overflow-x: hidden !important;
  touch-action: pan-y !important; /* Sadece bu alanda dikey parmak hareketine izin */
  -webkit-overflow-scrolling: touch !important; /* iOS momentum kaydÄ±rma */
  overscroll-behavior-y: contain !important; /* KaydÄ±rma bitince dÄ±ÅŸ kutuyu zÄ±platmayÄ± yasaklar */
  overscroll-behavior-x: none !important;
}
.modal-overlay .modal-body {
  padding: 20px;
}
/* Modal body varyantlarÄ± (inline stil yerine) */
#cache-confirm-modal .modal-body { padding: 20px 20px 12px 20px; }
#kaza-ekle-modal .modal-body { padding-top: 20px; }
#vehicle-history-modal .modal-body {
  padding: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
  min-height: 0 !important;
}
#vehicle-history-modal #history-tabs {
  flex-shrink: 0 !important;
}
#vehicle-history-modal .modal-container > div:nth-child(2) {
  flex-shrink: 0 !important;
}
#vehicle-history-modal #history-content {
  flex: 1 !important;
  overflow-y: auto !important;
  min-height: 0 !important;
  padding: 15px 20px 20px 20px !important; /* Sekmeler ile iÃ§erik arasÄ± 5px azaltÄ±ldÄ± (20â†’15) */
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}
#vehicle-history-modal .modal-body,
#vehicle-history-modal #history-content,
.modal-overlay:has(.history-tabs) .modal-body {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}
#vehicle-history-modal .modal-body::-webkit-scrollbar,
#vehicle-history-modal #history-content::-webkit-scrollbar,
.modal-overlay:has(.history-tabs) .modal-body::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* Modal container: marker ikonu */
.modal-container::after {
  content: '';
  position: absolute;
  bottom: 8px;
  right: 8px;
  width: 36px;
  height: 36px;
  background-image: url('icon/marker.png');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  opacity: 0.2;
  z-index: 0;
  pointer-events: none;
}

/* KullanÄ±cÄ± Paneli linki - footer Ã¼stÃ¼nde, saÄŸa yaslÄ± (mobilde 2px aÅŸaÄŸÄ± override ile) */
.user-panel-link {
  position: fixed;
  bottom: calc(var(--app-footer-height, 48px) + env(safe-area-inset-bottom, 0) + 7px);
  left: 50%;
  transform: translateX(-50%);
  max-width: 500px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 6px 16px;
  box-sizing: border-box;
  color: rgba(var(--theme-color-rgb), 0.55);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.5px;
  z-index: 9999;
  transition: color 0.2s;
}
@media (min-width: 769px) {
  .user-panel-link {
    bottom: calc(var(--app-footer-height, 48px) + env(safe-area-inset-bottom, 0) + 3px);
    font-size: 13px;
    padding: 2px 12px;
    transform: translateX(calc(-50% + 5px));
  }
}
.user-panel-link-inner {
  display: inline-flex;
  align-items: center;
  transition: color 0.2s;
}
.user-panel-link-inner:hover {
  color: var(--theme-color);
}
/* Sadece anasayfada gÃ¶rÃ¼nÃ¼r; modal aÃ§Ä±kken gizle */
body.modal-open .user-panel-link {
  display: none !important;
}
.user-panel-link-text {
  margin-right: 6px;
}
.user-panel-link-arrow {
  flex-shrink: 0;
}

/* 4. FOOTER (GÃœÃ‡LI KIRMIZI TEMA + AYRILIK) */
#app-footer {
    position: fixed;
    bottom: 0;
    flex-shrink: 0; 
    max-width: 500px;
    width: 100%;
    margin: 0 auto;
    background: var(--bg);
    z-index: 10000; /* Modal overlay (9999) Ã¼stÃ¼nde */ 
    border-top: 0.8px solid rgba(128, 128, 128, 0.5);  /* Gri Ã§izgi */
    border-left: 0.5px solid rgba(255, 255, 255, 0.20);  /* MasaÃ¼stÃ¼: ince + soluk */
    border-right: 0.5px solid rgba(255, 255, 255, 0.20);
    /* Footer'dan yukarÄ± doÄŸru Ä±ÅŸÄ±k Ã§Ä±kÄ±yor */
    box-shadow: 0 -10px 20px rgba(var(--theme-color-rgb), 0.16);
}

.footer-content {
    display: flex;
    justify-content: space-between; 
    align-items: center;
    max-width: 500px;
    width: 100%;
    margin: 0 auto;
    
    /* ðŸ‘‡ DÄ°KEY YÃœKSEKLÄ°ÄžÄ° BURADAN KISABÄ°LÄ°RSÄ°N ðŸ‘‡ */
    padding: 12px 12px; 
    /* Ã–rneÄŸin bunu 'padding: 8px 16px;' yaparsan footer incelir. */

    padding-bottom: max(12px, env(safe-area-inset-bottom));
    box-sizing: border-box;
}

#app-footer span {
    transition: opacity 1s ease;
    font-weight: 400; /* 300 â†’ 400 daha belirgin */
    letter-spacing: 0.5px;
    font-size: 13px;
    color: var(--txt-gray);
    white-space: nowrap;
    opacity: 1; /* VarsayÄ±lan opacity */
}

/* Versiyon solda - daha belirgin */
#app-footer .version {
    text-align: left;
    flex: 1;
    color: var(--txt-gray);
    font-weight: 500;
}

/* MEDISA Brand SVG - Ortada, ince detay + Ä±ÅŸÄ±k efekti */
#app-footer .brand {
    text-align: center;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    letter-spacing: 2.5px; /* 1px â†’ 2.5px daha geniÅŸ */
}

/* --- DÃœZELTME: img olarak deÄŸiÅŸtirildi ve 13px yapÄ±ldÄ± --- */
#app-footer .brand img {
    height: 12.5px; /* MasaÃ¼stÃ¼ 12.5px */
    width: auto;
    opacity: 0.4; /* BaÅŸlangÄ±Ã§ Ã§ok soluk */
    filter: none;
    transition: opacity 1s ease;
    /* Harfler arasÄ± boÅŸluk efekti iÃ§in resmi yayvanlaÅŸtÄ±r */
    transform: scaleX(1.1);
}

/* Durum saÄŸda */
#app-footer .status {
    text-align: right;
    flex: 1; /* SaÄŸdaki boÅŸluÄŸu kapla */
    display: flex;
    justify-content: flex-end; /* Ä°Ã§eriÄŸi saÄŸa it */
    align-items: center;
    gap: 4px; /* Ä°kon ve yazÄ± arasÄ± */
    min-width: 0; /* Flexbox taÅŸmasÄ±nÄ± Ã¶nler */
}

/* Transition'larÄ± her zaman aktif tut */
#app-footer .version,
#app-footer .status,
#app-footer .brand img {
  transition: opacity 1s ease !important;
}

/* Sayfa aÃ§Ä±ldÄ±ÄŸÄ±nda: Versiyon ve durum normal, MEDISA soluk */
#app-footer.dimmed .version,
#app-footer.dimmed .version#version-display { 
  opacity: 1 !important; 
} 
#app-footer.dimmed .status,
#app-footer.dimmed .status.status-ready,
#app-footer.dimmed .status.status-error { 
  opacity: 1 !important; 
} 
#app-footer.dimmed .brand img { 
  opacity: 0.3 !important; 
} 

/* 4 saniye sonra: Versiyon ve durum soluk, MEDISA normal */
#app-footer.dimmed.delayed .version,
#app-footer.dimmed.delayed .version#version-display { 
  opacity: 0.3 !important; 
} 
#app-footer.dimmed.delayed .status,
#app-footer.dimmed.delayed .status.status-ready,
#app-footer.dimmed.delayed .status.status-error { 
  opacity: 0.3 !important; 
} 
#app-footer.dimmed.delayed .brand img { 
  opacity: 0.7 !important; 
}
.status-ready { 
  color: var(--green) !important; /* Zorla yeÅŸil */
  font-weight: 600; /* Durum bilgisi kalÄ±n */
  text-shadow: 0 0 8px rgba(74, 222, 128, 0.4); /* YeÅŸil glow */
}
.status-error { 
  color: var(--red); 
  font-weight: 600; /* Durum bilgisi kalÄ±n */
  text-shadow: 0 0 8px rgba(239, 68, 68, 0.4); /* KÄ±rmÄ±zÄ± glow */
}

/* MOBÄ°L AYARLARI */
@media (max-width: 640px) {
    /* :root override'larÄ± dosya baÅŸÄ±nda birleÅŸtirildi */
    /* âœ¨ iOS FOOTER ALTI RENK SORUNU âœ¨ - Body/container aynÄ± renk */
    html, body {
        background-color: var(--bg);
        color: #ffffff !important; /* Metin rengi zorla beyaz */
    }
    
    /* TÃ¼m metin elementleri iÃ§in kontrast artÄ±rma */
    h1, h2, h3, h4, h5, h6, p, span, div, label, button {
        color: inherit; /* Parent'tan renk al */
    }
    
    /* Mobil Footer MEDISA yazÄ±sÄ± */
    #app-footer .brand img {
        height: 13px !important; /* Mobil 13px */
    }
    
    .hero-logo svg, 
    .hero-logo img {
        opacity: 1 !important;  /* Mobilde tam opak, zorla */
        filter: none !important;
    }
    
    /* Mobil header logo boyutu ve dengesi */
    .hero-logo img {
        height: 40px !important;
        width: auto !important;
        display: block !important;
        object-fit: contain !important;
    }
    
    .hero-logo {
        display: flex !important;
        align-items: center !important;
        margin-right: 12px !important;
        transform: translate(-2px, 1px);  /* 2px sola, 1px aÅŸaÄŸÄ± (mobil) */
    }
    
    /* Hero mobilde havada + kÄ±rmÄ±zÄ± (anasayfa ile eÅŸit), dikey yÃ¼kseklik +5px */
    .hero {
        min-height: 65px !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.45), 0 4px 24px rgba(var(--theme-color-rgb), 0.18);
    }
    
    .hero h1 {
        padding: 0 2px;  /* Mobilde logoâ€“metin arasÄ± 2px */
        letter-spacing: 2.5px;  /* Mobilde harfler arasÄ± boÅŸluk 2.5px */
        font-size: clamp(19px, 5.5vw, 23px); /* Uzun baÅŸlÄ±kta minimum dÃ¼zeyde kÃ¼Ã§Ã¼lebilir */
        /* PÄ±rÄ±l pÄ±rÄ±l: sis yok, keskin metin */
        text-shadow: none !important;
        filter: none !important;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        transform: translateY(-2px);  /* Havada - kÄ±rmÄ±zÄ± ile eÅŸit */
    }
    
    /* Modal baÅŸlÄ±klarÄ± mobilde 19px */
    .modal-header h2 {
        font-size: 19px !important;
    }
    
    /* Mobil: overlay footer+8px Ã¼stÃ¼nde biter, 8px boÅŸluk sayfa arka planÄ±yla gÃ¶rÃ¼nsÃ¼n */
    .modal-overlay {
        top: 0 !important;
        padding: 0 !important;
        align-items: stretch !important;
        justify-content: center !important;
        overflow: hidden !important;
        overscroll-behavior: none !important;
        bottom: calc(var(--modal-gap-above-footer) + var(--app-footer-height) + env(safe-area-inset-bottom, 0)) !important;
        height: auto !important; /* 100vh base kurallarÄ±nÄ± ezer, overlay top-bottom arasÄ± olur */
        max-height: calc(100vh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
        max-height: calc(100dvh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
    }
    #vehicle-modal.modal-overlay,
    #reports-modal.modal-overlay {
        top: 0 !important;
        bottom: calc(var(--modal-gap-above-footer) + var(--app-footer-height) + env(safe-area-inset-bottom, 0)) !important;
        height: auto !important;
        max-height: calc(100vh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
        max-height: calc(100dvh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
    }

    /* Modal container mobil: Ã¼st sÄ±fÄ±r, overlay'Ä± doldur, 10px kÃ¶ÅŸe, ince Ã§erÃ§eve */
    .modal-overlay .modal-container {
        position: relative !important;
        max-width: 100% !important;
        width: 100% !important;
        left: 0 !important;
        right: 0 !important;
        margin-top: 0 !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        margin-bottom: 0 !important;
        height: 100% !important;
        max-height: 100% !important;
        border-radius: 10px !important;
        border: 1px solid rgba(255, 255, 255, 0.35) !important;
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.08);
        background: var(--modal-bg) !important;
        padding: 0 !important;
        padding-top: 0 !important;
        overflow: hidden !important;
        overflow-x: hidden !important;
        touch-action: pan-y !important;
        -webkit-overflow-scrolling: touch !important;
        overscroll-behavior: none !important;
        overscroll-behavior-x: none !important;
    }

    /* Modal header: Ã¼stten nefes almasÄ± iÃ§in 12px, Ã¼st kÃ¶ÅŸeler 10px (container ile uyumlu) */
    .modal-overlay .modal-header {
        padding-top: 12px !important;
        border-top-left-radius: 10px !important;
        border-top-right-radius: 10px !important;
    }

    /* Mobil: modal body â€“ sadece dikey scroll, yatay kayma yok */
    .modal-overlay .modal-body {
        padding-bottom: 40px !important;
        overflow-x: hidden !important;
        overscroll-behavior-x: none !important;
    }

    /* iOS PWA: 10px boÅŸluk --modal-gap-above-footer ile; footer + safe-area uyumlu */
    @media (display-mode: standalone) {
        .modal-overlay {
            padding-top: env(safe-area-inset-top) !important;
            bottom: calc(var(--modal-gap-above-footer) + var(--app-footer-height) + env(safe-area-inset-bottom, 0)) !important;
            max-height: calc(100vh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
            max-height: calc(100dvh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
        }
        #vehicle-modal.modal-overlay,
        #reports-modal.modal-overlay {
            bottom: calc(var(--modal-gap-above-footer) + var(--app-footer-height) + env(safe-area-inset-bottom, 0)) !important;
            max-height: calc(100vh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
            max-height: calc(100dvh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
        }
        .tasitlar-modal-overlay {
            padding-top: env(safe-area-inset-top) !important;
            bottom: calc(var(--modal-gap-above-footer) + var(--app-footer-height) + env(safe-area-inset-bottom, 0)) !important;
            max-height: calc(100vh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
            max-height: calc(100dvh - var(--modal-gap-above-footer) - var(--app-footer-height) - env(safe-area-inset-bottom, 0)) !important;
        }
        .tasitlar-modal-overlay::before {
            top: 0 !important;
            height: 100% !important;
        }
        .modal-overlay .modal-container {
            margin-top: 0 !important;
            margin-bottom: 0 !important;
            height: 100% !important;
            max-height: 100% !important;
        }
        /* Modal iÃ§eriÄŸi footer arkasÄ±nda kalmasÄ±n */
        .modal-overlay .modal-body {
            padding-bottom: calc(var(--app-footer-height) + env(safe-area-inset-bottom, 0)) !important;
        }
    }
    
    /* Header ikonlarÄ± (saÄŸ Ã¼st): SVG 24px, padding artÄ±rÄ±ldÄ± */
    .icons-row .icon-btn svg {
        width: 24px !important;
        height: 24px !important;
    }
    .icons-row .icon-btn {
        padding: 8px !important;
    }
    /* Modal geri/kapat butonlarÄ± mobilde daha bÃ¼yÃ¼k tÄ±klanabilir alan */
    .modal-overlay .modal-close {
        padding: 12px !important;
        min-width: 44px !important;
        min-height: 44px !important;
    }
    
    /* Ana sayfa butonlarÄ± mobilde: yÃ¼kseklik +2px (64px), gri Ã§erÃ§eve parlak, havada kÄ±rmÄ±zÄ± gÃ¶lge */
    .menu-btn {
        height: 64px !important; /* 62px + 2px */
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.25), 0 4px 20px rgba(var(--theme-color-rgb), 0.14);
        border-color: rgba(255, 255, 255, 0.55); /* Ã‡erÃ§eve gri daha parlak (0.45â†’0.55, kalÄ±nlÄ±k aynÄ±) */
    }
    
    /* MenÃ¼ butonlarÄ± arasÄ± dikey boÅŸluk +2px */
    .menu-container {
        gap: 8px !important;
    }
    
    /* MOBÄ°LDE YAN Ã‡Ä°ZGÄ°LER KIRMIZI - pseudo ile Ã¼stte (hero/menÃ¼ Ã¼stÃ¼ne Ã§Ä±kmasÄ±n) */
    .content-wrap { 
        border-left: none;
        border-right: none;
    }
    .content-wrap::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-left: 1px solid var(--border-red-tech);
        border-right: 1px solid var(--border-red-tech);
        pointer-events: none;
        z-index: 20;
        box-sizing: border-box;
    }
    
    /* CONTAINER'DAN YAN Ã‡Ä°ZGÄ°LER KALDIRILDI */
    .app-container {
        border-left: none;
        border-right: none;
    }
    
    /* KÄ±rmÄ±zÄ± Ã§erÃ§eve mobilde havada: iÃ§ Ä±ÅŸÄ±k tam (kÄ±rmÄ±zÄ± ile eÅŸit) */
    .app-container::after {
        box-shadow: inset 0 0 25px var(--red-glow-subtle);
    }
    
    /* FOOTER IÅžIKLARI GÃœÃ‡LÃœ - GÃœNCELLENDÄ° (0.35 OPAK); Ä±ÅŸÄ±k 3px daha yukarÄ± (0 -15px) */
    #app-footer {
        position: fixed;
        bottom: 0;
        box-shadow: 0 -15px 22px rgba(var(--theme-color-rgb), 0.35);  /* %35 OpaklÄ±k + 3px yukarÄ± */
        border-left: none; /* Mobilde yan yok */
        border-right: none;
        border-top: 1px solid rgba(128, 128, 128, 0.5) !important; /* Gri Ã§izgi */
    }
    
    /* HEADER KIRMIZI Ã‡Ä°ZGÄ° - Havada (kÄ±rmÄ±zÄ± Ã§erÃ§eve ile eÅŸit) */
    .animated-line {
        opacity: 0.8;  /* Mobilde daha belirgin */
        box-shadow: 0 2px 12px rgba(var(--theme-color-rgb), 0.4);  /* Havada: kÄ±rmÄ±zÄ± glow */
    }
    
    .menu-btn .ttl {
        font-size: clamp(15.5px, 3.2vw, 17.5px) !important; /* +1pt daha (14.5â†’15.5, 16.5â†’17.5) */
        letter-spacing: 1.5px;
        text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);  /* Havada, metin berrak */
    }
    
    /* Mobil: KullanÄ±cÄ± paneli giriÅŸ butonu 2px aÅŸaÄŸÄ± */
    .user-panel-link {
        bottom: calc(var(--app-footer-height, 48px) + env(safe-area-inset-bottom, 0) + 5px) !important;
    }
    
    /* Mobil bildirim Ã§erÃ§eveleri - arka plan opak */
    .notification-item {
        background: var(--bg) !important;
    }
    
    /* Mobil bildirimlerde plaka font boyutunu 2 punto kÃ¼Ã§Ã¼lt */
    .notification-item > div:first-child {
        font-size: 11px !important; /* 13px - 2pt (â‰ˆ2px) = 11px */
    }

    /* === ANA KAYIT MODALI KURTARMA (Dar alana sÄ±ÄŸmasÄ± iÃ§in alt alta dizilmek zorundadÄ±r) === */
    #vehicle-modal .modal-body .form-section-inline:has(.radio-group),
    #vehicle-modal .modal-body .form-section-inline:has([data-group]) {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 4px !important;
        height: auto !important;
    }
    #vehicle-modal .modal-body .form-section-inline:has(.radio-group) .form-label {
        width: 100% !important;
        margin-bottom: 2px !important;
    }
    #vehicle-modal .modal-body .form-section-inline:has(.radio-group) .radio-group {
        width: 100% !important;
        justify-content: space-between !important;
        flex-wrap: nowrap !important;
        gap: 4px !important;
    }
    /* Ana formda butonlarÄ±n saÄŸa sola taÅŸmamasÄ± iÃ§in orijinal dar Ã¶lÃ§Ã¼lerine dÃ¶nÃ¼yoruz */
    #vehicle-modal .modal-body .radio-btn,
    #vehicle-modal .modal-body .toggle-btn {
        height: 27px !important;
        padding: 0 4px !important;
        font-size: 11px !important;
        flex: 1 1 0 !important;
        min-width: 0 !important;
    }
}

/* --- iOS PWA: KÄ±rmÄ±zÄ± Ã§erÃ§eve ekran Ã¼stÃ¼ + kÄ±vrÄ±mlar paralel --- */
@media (max-width: 768px) and (display-mode: standalone) {
    html {
        padding: 0 env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left) !important;
        box-sizing: border-box !important;
        min-height: calc(100% + env(safe-area-inset-top)) !important; /* iOS PWA position:fixed workaround */
    }
    body {
        padding: 0 !important;
        min-height: 100vh !important;
        min-height: 100dvh !important;
        box-sizing: border-box !important;
    }
    /* iOS PWA: anabaÅŸlÄ±k kulaklÄ±k/sensÃ¶r arkasÄ±nda kalmasÄ±n - content-wrap Ã¼st padding */
    .content-wrap {
        padding-top: max(12px, env(safe-area-inset-top)) !important;
    }
    /* Ã‡erÃ§eve viewport iÃ§inde kalÄ±r; Ã§ift padding yok, content-wrap halleder */
    .app-container {
        margin-top: 0 !important;
        padding-top: 0 !important;
        border-radius: 20px !important;
        border-bottom-left-radius: 0 !important;
        border-bottom-right-radius: 0 !important;
        overflow: hidden !important;
        border-top: 1.2px solid var(--border-red-tech) !important;
        border-left: 1px solid var(--border-red-tech) !important;
        border-right: 1px solid var(--border-red-tech) !important;
        box-shadow: 0 2px 14px rgba(var(--theme-color-rgb), 0.1) !important;
        min-height: calc(100vh - env(safe-area-inset-bottom)) !important;
        min-height: calc(100dvh - env(safe-area-inset-bottom)) !important;
    }
    /* Admin rapor sayfasÄ±: kavislere uyumlu Ã§erÃ§eve (anasayfa ile aynÄ±) */
    .admin-app-container {
        border-radius: 20px !important;
        overflow: hidden !important;
        border-top: 1.2px solid var(--border-red-tech) !important;
        border-left: 1px solid var(--border-red-tech) !important;
        border-right: 1px solid var(--border-red-tech) !important;
        box-shadow: 0 2px 14px rgba(var(--theme-color-rgb), 0.1) !important;
        min-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom)) !important;
        min-height: calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom)) !important;
    }
    .content-wrap::before {
        display: none !important;
    }
}

/* --- MasaÃ¼stÃ¼ PWA: window-controls-overlay - baÅŸlÄ±k Ã§ubuÄŸu altÄ±nda iÃ§erik --- */
@media (display-mode: window-controls-overlay) {
    body {
        padding-top: env(title-bar-area-height, 0px) !important;
    }
}

/* Ä°Ã§erik pseudo overlay'in Ã¼stÃ¼nde kalsÄ±n */
.app-container > * { position: relative; z-index: 1; }
/* Modal aÃ§Ä±kken body kaymasÄ±nÄ± ve yatay kaymayÄ± engelle */
body.modal-open {
    overflow: hidden;
    overflow-x: hidden;
    height: 100%;
    max-width: 500px;
    width: 100%;
    margin: 0 auto;
    overscroll-behavior: none;
    touch-action: none;
}

/* --- YENÄ° EKLENEN KISIM: Modal aÃ§Ä±kken Ã§izgileri gizle --- */
body.modal-open .app-container {
    border-top-color: transparent !important;
}

/* === KÃœÃ‡ÃœK MODALLAR Ä°Ã‡Ä°N STANDART HEADER (v79) === */
#cache-confirm-modal .modal-header,
#info-modal .modal-header,
#tescil-tarih-confirm-modal .modal-header,
#tescil-tarih-input-modal .modal-header {
    background: linear-gradient(180deg, rgba(255, 0, 0, 0.30) 0%, rgba(255, 0, 0, 0.22) 25%, rgba(255, 0, 0, 0.16) 50%, rgba(255, 0, 0, 0.10) 75%, transparent 100%);
    padding: 8px 20px;
    height: 60px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
    position: relative;
    border-bottom: none !important;
}

#cache-confirm-modal .modal-header h2,
#info-modal .modal-header h2,
#tescil-tarih-confirm-modal .modal-header h2,
#tescil-tarih-input-modal .modal-header h2 {
    font-size: 19px !important; /* 17px + 1.5 punto (2px) */
    font-weight: 600 !important;
    letter-spacing: 0.05em !important;
    color: var(--txt-light) !important;
    text-shadow: none !important;
    opacity: 1 !important;
    margin: 0;
    text-align: center;
}

/* PWA Update Toast */
.update-toast {
    position: fixed;
    bottom: calc(var(--app-footer-height) + 16px);
    left: 50%;
    transform: translateX(-50%) translateY(100%);
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 12px 20px;
    background: var(--bg-content);
    border: 1px solid var(--theme-color);
    border-radius: 10px;
    box-shadow: 0 4px 20px var(--shadow-dark);
    transition: transform 0.3s ease;
}
.update-toast.visible {
    transform: translateX(-50%) translateY(0);
}
.update-toast-text {
    color: var(--txt-light);
    font-size: 14px;
    font-weight: 600;
}
.update-toast-btn {
    padding: 8px 16px;
    background: transparent;
    border: 1px solid var(--green-success);
    color: var(--green-success);
    border-radius: 6px;
    font-weight: 600;
    font-size: 13px;
    cursor: pointer;
    transition: background 0.2s, color 0.2s;
}
.update-toast-btn:hover {
    background: var(--green-success);
    color: var(--bg);
}

/* ========== MASAÃœSTÃœ FERAHLAMA OPERASYONU ========== */
/* Åžube ve KullanÄ±cÄ± YÃ¶netimi bilgi kutularÄ±nÄ± masaÃ¼stÃ¼nde bÃ¼yÃ¼tme: +1 punto metin, +3px dikey/yatay, padding kÄ±sÄ±tma ile simetri */
@media (min-width: 641px) {
    #sube-modal,
    #kullanici-modal,
    #branch-form-modal,
    #user-form-modal,
    #branch-modal,
    #user-modal,
    .settings-modal,
    .modal-overlay:has(#sube-adi),
    .modal-overlay:has(#kullanici-adi),
    .modal-overlay:has(#branch-name),
    .modal-overlay:has(#user-form) {
        & .modal-body {
            padding-left: 10.5px !important;
            padding-right: 10.5px !important;
        }
        & .form-label {
            font-size: 13px !important;
        }
        & .form-input,
        & select {
            font-size: 14px !important;
        }
        & .universal-btn-save,
        & .universal-btn-cancel,
        & .btn-delete,
        & .settings-btn-delete {
            font-size: 12.5px !important;
        }
        & .form-input,
        & select {
            height: 27px !important;
            padding-top: 5px !important;
            padding-bottom: 5px !important;
        }
        & .universal-btn-save,
        & .universal-btn-cancel,
        & .btn-delete,
        & .settings-btn-delete {
            height: 31px !important;
        }
    }
}
