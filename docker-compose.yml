# Taşıt Takip - karmotors.com.tr Sunucu Deployment
#
# Kullanım:
#   docker-compose up -d
#
# Erişim:
#   - Direkt: http://localhost:8080
#   - Nginx reverse proxy ile /medisa: https://karmotors.com.tr/medisa/ (docker/nginx-proxy.conf)
#
# Canlı adres: https://karmotors.com.tr/medisa/
# Uygulama hem /medisa hem /tasitmedisa path'ini destekler (data-manager.js, sw.js, script-core.js).
# Nginx'te location /medisa/ kullanılıyorsa container her zaman kökte (/) serve eder;
# tarayıcı path'i /medisa/ olduğu için API base otomatik /medisa/ olur.

version: '3.8'

services:
  web:
    build:
      context: .
      dockerfile: docker/Dockerfile
    container_name: tasittakip-web
    restart: unless-stopped
    ports:
      - "8080:80"
    volumes:
      - .:/var/www/html
    environment:
      - APACHE_DOCUMENT_ROOT=/var/www/html
